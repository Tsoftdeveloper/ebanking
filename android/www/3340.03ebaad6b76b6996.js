"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3340],{3340:(_,u,l)=>{l.r(u),l.d(u,{AddBenePageModule:()=>B});var g=l(6895),r=l(9796),o=l(6548),f=l(5339),d=l(5861),e=l(4583),A=l(5911),p=l(2906);function b(i,c){if(1&i&&(e.TgZ(0,"ion-select-option",22),e._uU(1),e.qZA()),2&i){const n=c.$implicit;e.Q6J("value",n),e.xp6(1),e.hij("",n," ")}}function m(i,c){if(1&i&&(e.TgZ(0,"ion-row",23)(1,"ion-col",20)(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",20)(5,"ion-label"),e._uU(6),e.qZA()(),e.TgZ(7,"ion-col",20)(8,"ion-label"),e._uU(9),e.qZA()()()),2&i){const n=c.$implicit;e.xp6(3),e.Oqu(n.id),e.xp6(3),e.Oqu(n.title),e.xp6(3),e.hij(" ",n.account,"")}}const h=[{path:"",component:(()=>{class i{constructor(n,t,a){this.userdata=n,this.bene=t,this.alertController=a,this.amount=0,this.email="",this.fullname="",this.account="",this.bankName="",this.balance=0,this.profiledp="",this.activeUser="",this.beneBank="",this.beneAccount="",this.beneAccTitle="",this.beneList=[],this.bankList=["ANZ","Commonwealth Bank","National Australia Bank","Westpac"],this.alertButtons=["OK"]}ngOnInit(){this.fetchData()}presentConfirmationAlert(){var n=this;return(0,d.Z)(function*(){return new Promise(function(){var t=(0,d.Z)(function*(a){yield(yield n.alertController.create({header:"Delete All Beneficiaries",message:"Are you sure you want to proceed?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("User clicked Cancel"),a(!1)}},{text:"Confirm",handler:()=>{console.log("User clicked Confirm"),a(!0)}}]})).present()});return function(a){return t.apply(this,arguments)}}())})()}deleteAll(){var n=this;return(0,d.Z)(function*(){const t=yield n.bene.deleteBeneData("bene"+n.account);(yield n.presentConfirmationAlert())&&1==t&&alert("Deleted All Linked Beneficiaries.")})()}displayAll(){var n=this;return(0,d.Z)(function*(){n.storedBene=yield n.bene.getBeneData("bene"+n.account),console.log(n.storedBene)})()}add(){var n=this;return(0,d.Z)(function*(){if(null!=n.beneAccount&&null!=n.beneAccTitle&&n.beneBank){n.data={beneAccTitle:n.beneAccTitle,beneAccount:n.beneAccount,beneBank:n.beneBank,beneofuser:n.account},n.bene.createBene("bene"+n.account,n.data);const t=yield n.bene.getBeneData("bene"+n.account);null!=t&&(console.log(t),alert("Added!"))}})()}fetchData(){var n=this;return(0,d.Z)(function*(){var t;n.activeUser=null===(t=sessionStorage.getItem("email"))||void 0===t?void 0:t.toString(),n.user=yield n.userdata.getUserDataByEmail(n.activeUser),null!=n.user?(console.log(n.user),n.email=n.user.email,n.fullname=n.user.fullname,n.account=n.user.account,n.bankName=n.user.bankName,n.balance=n.user.balance,n.profiledp=n.user.image):console.log(JSON.stringify(n.user))})()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(A.K),e.Y36(p.Z),e.Y36(o.Br))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-bene"]],decls:61,vars:7,consts:[[1,"ion-no-border"],["slot","start"],["default-href","home"],["size","large"],[1,"account-info"],[1,"card","infinite"],["lines","none"],[1,"ion-padding"],["lines","full"],["position","stacked",1,"my-label"],["name","beneBank","aria-labelledby","bankName",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","stacked"],["type","text","name","beneAccount","max-length","17","required","true",3,"ngModel","ngModelChange"],["type","text","name","beneAccTitle",3,"ngModel","ngModelChange"],[1,"center-container"],["id","added","type","click","color","tertiary",3,"click"],["id","delete","type","click","color","danger",3,"click"],["id","added","type","click","color","primary",3,"click"],[1,"header-row"],["size","3"],["class","data-row",4,"ngFor","ngForOf"],[3,"value"],[1,"data-row"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA()(),e.TgZ(4,"strong")(5,"ion-title",3),e._uU(6,"Add Beneficiary"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-card",4)(9,"ion-card-header")(10,"ion-card-title"),e._uU(11),e.qZA(),e.TgZ(12,"ion-card-subtitle"),e._uU(13,"Your Account"),e.qZA()(),e.TgZ(14,"ion-card-content")(15,"strong"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",5)(18,"ion-card")(19,"ion-item",6)(20,"ion-card-subtitle"),e._uU(21,"Add Beneficiary Details"),e.qZA()(),e.TgZ(22,"div",7)(23,"form")(24,"ion-item",8)(25,"ion-label",9),e._uU(26,"Select Beneficiary Bank: "),e.qZA(),e.TgZ(27,"ion-select",10),e.NdJ("ngModelChange",function(s){return t.beneBank=s}),e.YNc(28,b,2,2,"ion-select-option",11),e.qZA()(),e.TgZ(29,"ion-item",6)(30,"ion-label",12),e._uU(31,"Enter Beneficiary Account Number: "),e.qZA(),e.TgZ(32,"ion-input",13),e.NdJ("ngModelChange",function(s){return t.beneAccount=s}),e.qZA()(),e.TgZ(33,"ion-item",6)(34,"ion-label",12),e._uU(35,"Account Title: "),e.qZA(),e.TgZ(36,"ion-input",14),e.NdJ("ngModelChange",function(s){return t.beneAccTitle=s}),e.qZA()(),e.TgZ(37,"div",15)(38,"ion-button",16),e.NdJ("click",function(){return t.add()}),e._uU(39,"ADD"),e.qZA(),e.TgZ(40,"ion-button",17),e.NdJ("click",function(){return t.deleteAll()}),e._uU(41,"DELETE ALL"),e.qZA(),e.TgZ(42,"ion-button",18),e.NdJ("click",function(){return t.displayAll()}),e._uU(43,"VIEW"),e.qZA()()()()(),e.TgZ(44,"ion-card")(45,"ion-card-header")(46,"ion-card-subtitle"),e._uU(47,"Beneficiary List"),e.qZA()(),e.TgZ(48,"ion-card-content")(49,"ion-grid")(50,"ion-row",19)(51,"ion-col",20)(52,"ion-label"),e._uU(53,"Name"),e.qZA()(),e.TgZ(54,"ion-col",20)(55,"ion-label"),e._uU(56,"Account"),e.qZA()(),e.TgZ(57,"ion-col",20)(58,"ion-label"),e._uU(59,"Bank"),e.qZA()()(),e.YNc(60,m,10,3,"ion-row",21),e.qZA()()()()()),2&n&&(e.xp6(11),e.Oqu(t.fullname),e.xp6(5),e.Oqu(t.account),e.xp6(11),e.Q6J("ngModel",t.beneBank),e.xp6(1),e.Q6J("ngForOf",t.bankList),e.xp6(4),e.Q6J("ngModel",t.beneAccount),e.xp6(4),e.Q6J("ngModel",t.beneAccTitle),e.xp6(24),e.Q6J("ngForOf",t.storedBene))},dependencies:[g.sg,r._Y,r.JJ,r.JL,r.Q7,r.On,r.F,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.pK,o.Ie,o.Q$,o.Nd,o.t9,o.n0,o.wd,o.sr,o.QI,o.j9,o.cs],styles:["ion-content[_ngcontent-%COMP%]{--background: white}.account-info[_ngcontent-%COMP%]{background-color:#f8f8ff}.card[_ngcontent-%COMP%]{max-height:100%;min-height:100%;display:block;padding-bottom:40px;background-color:#5260ff;border-radius:50px 50px 0 0}ion-card[_ngcontent-%COMP%]{padding-top:10px;border-radius:20px}.header-row[_ngcontent-%COMP%]{font-weight:700;text-align:center}.data-row[_ngcontent-%COMP%]{align-items:center;text-align:center;width:100%}ion-grid[_ngcontent-%COMP%]{align-content:center;margin-right:10px}.center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(h),f.Bz]}),i})(),B=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,r.u5,o.Pc,Z]}),i})()}}]);