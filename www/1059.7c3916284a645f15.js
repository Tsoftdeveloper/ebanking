"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1059],{1443:(P,f,s)=>{s.d(f,{ez:()=>g,tP:()=>c});var c=(()=>{return(l=c||(c={})).Documents="DOCUMENTS",l.Data="DATA",l.Library="LIBRARY",l.Cache="CACHE",l.External="EXTERNAL",l.ExternalStorage="EXTERNAL_STORAGE",c;var l})(),g=(()=>{return(l=g||(g={})).UTF8="utf8",l.ASCII="ascii",l.UTF16="utf16",g;var l})()},1059:(P,f,s)=>{s.r(f),s.d(f,{SignupPageModule:()=>U});var c=s(6895),g=s(9796),r=s(6548),m=s(5339),l=s(5861),y=s(7423),h=s(1443);const p=(0,y.fo)("Filesystem",{web:()=>s.e(6364).then(s.bind(s,6364)).then(a=>new a.FilesystemWeb)});var e=s(4583),C=s(5911),Z=s(9188),A=s(1481);function _(a,d){if(1&a&&(e.TgZ(0,"ion-select-option",23),e._uU(1),e.qZA()),2&a){const n=d.$implicit;e.Q6J("value",n),e.xp6(1),e.hij("",n," ")}}function S(a,d){if(1&a&&e._UZ(0,"img",24),2&a){const n=e.oxw();e.Q6J("src",n.imageUrl,e.LSH)}}const T=function(){return["/login"]},N=[{path:"",component:(()=>{class a{constructor(n,t,i,o,u){this.router=n,this.userdata=t,this.file=i,this.sanitizer=o,this.platform=u,this.email="",this.password="",this.fullname="",this.bankAccountNumber="",this.bankName="",this.phoneNumber="",this.status=!1,this.findex=0,this.lindex=0,this.imageUrl=null,this.uploadedfile="",this.image="",this.bankList=["ANZ","Commonwealth Bank","National Australia Bank","Westpac"],this.convertBlobToBase64=M=>new Promise((F,J)=>{const b=new FileReader;b.onerror=J,b.onload=()=>{F(b.result)},b.readAsDataURL(M)})}ngOnInit(){this.loadFiles()}loadFiles(){var n=this;return(0,l.Z)(function*(){p.readdir({directory:h.tP.Data,path:"uploads"}).then(t=>{console.log("Here 1",t),n.loadfiledata(t.files)},function(){var t=(0,l.Z)(function*(i){console.log("err: "+i),p.mkdir({directory:h.tP.Data,path:"uploads"}).then(o=>{console.log("Here 2",o)},function(){var o=(0,l.Z)(function*(u){console.log("err: "+u)});return function(u){return o.apply(this,arguments)}}())});return function(i){return t.apply(this,arguments)}}())})()}loadfiledata(n){return(0,l.Z)(function*(){for(let i in n){const o="uploads/"+i,u=yield p.readFile({directory:h.tP.Data,path:o});null!=u?alert("Read files: "+u):console.log("Can't read files...")}})()}selectImage(n){var t=this;return(0,l.Z)(function*(){const i=n.target.files[0],o=new FileReader;o.onloadend=(0,l.Z)(function*(){const u=yield t.readAsBase64(i);console.log(u);const M=yield t.savePicture(u);console.log("Saved... "+M)}),o.readAsDataURL(i)})()}savePicture(n){var t=this;return(0,l.Z)(function*(){const i=t.fullname.trim()+".jpeg";if(null!=t.fullname&&""!=t.fullname){const u=yield p.writeFile({path:`uploads/${i}`,data:n,directory:h.tP.Data});return u&&(console.log("File saved: "+u.uri),alert("Uploaded! "),t.image=u.uri),u}return console.log("fullname is empty"),""})()}readAsBase64(n){var t=this;return(0,l.Z)(function*(){if(t.platform.is("hybrid"))return(yield p.readFile({path:n.path+""})).data;{const o=yield(yield fetch(n.webPath)).blob();return yield t.convertBlobToBase64(o)}})()}store(){var n=this;return(0,l.Z)(function*(){console.log(n.image);const t={email:n.email,password:n.password,fullname:n.fullname,bank:n.bankName,account:n.bankAccountNumber,phone:n.phoneNumber,balance:6e4,image:n.image};return yield n.userdata.createUser(t),n.storedUser=yield n.userdata.getUserDataByEmail(n.email),null!=n.storedUser?(console.log(JSON.stringify(n.storedUser)),n.status=!0):n.status=!1,n.status})()}onBtnSubmit(){var n=this;return(0,l.Z)(function*(){1==(yield n.store())?(sessionStorage.setItem("email",n.storedUser.email),alert("User Created!"),n.nextpage()):alert("User Creation Failed!")})()}nextpage(){this.router.navigate(["/home"])}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(m.F0),e.Y36(C.K),e.Y36(Z.$),e.Y36(A.H7),e.Y36(r.t4))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-signup"]],decls:47,vars:11,consts:[["href","https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap","rel","stylesheet"],[1,"ion-no-border"],[1,"ion-text-center","custom-font"],[1,"ion-padding"],[3,"submit"],["lines","full"],["id","fullname","position","floating"],["type","text","name","fullname","position","floating","aria-labelledby","fullname","required","true",3,"ngModel","ngModelChange"],["id","email","position","floating"],["type","email","name","email","aria-labelledby","email","required","true",3,"ngModel","ngModelChange"],["id","pwd","position","floating"],["type","password","name","password","aria-labelledby","pwd","required","true",3,"ngModel","ngModelChange"],["id","bankAcc","position","floating"],["type","text","aria-labelledby","bankAcc","required","true","pattern","^[0-9]{10}$","name","bankAccountNumber",3,"ngModel","ngModelChange"],["id","bankName","position","floating"],["name","bankName","aria-labelledby","bankName",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","phone","position","floating"],["type","tel","name","phoneNumber","required","true","pattern","^[0-9]{10}$","aria-labelledby","phone",3,"ngModel","ngModelChange"],["type","file","name","uploadedfile","accept",".jpg, .jpeg, .png",3,"ngModel","ngModelChange","change"],["alt","Selected Image",3,"src",4,"ngIf"],["type","submit","color","success","expand","block"],[3,"routerLink"],[3,"value"],["alt","Selected Image",3,"src"]],template:function(n,t){1&n&&(e._UZ(0,"link",0),e.TgZ(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title",2),e._uU(4,"SIGN UP"),e.qZA()()(),e.TgZ(5,"ion-content")(6,"div",3)(7,"form",4),e.NdJ("submit",function(){return t.onBtnSubmit()}),e.TgZ(8,"ion-item",5)(9,"ion-label",6),e._uU(10,"Full Name"),e.qZA(),e.TgZ(11,"ion-input",7),e.NdJ("ngModelChange",function(o){return t.fullname=o}),e.qZA()(),e.TgZ(12,"ion-item",5)(13,"ion-label",8),e._uU(14,"Email"),e.qZA(),e.TgZ(15,"ion-input",9),e.NdJ("ngModelChange",function(o){return t.email=o}),e.qZA()(),e.TgZ(16,"ion-item",5)(17,"ion-label",10),e._uU(18,"Password"),e.qZA(),e.TgZ(19,"ion-input",11),e.NdJ("ngModelChange",function(o){return t.password=o}),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label",12),e._uU(22,"Bank Account Number"),e.qZA(),e.TgZ(23,"ion-input",13),e.NdJ("ngModelChange",function(o){return t.bankAccountNumber=o}),e.qZA()(),e.TgZ(24,"ion-item")(25,"ion-label",14),e._uU(26,"Bank Name"),e.qZA(),e.TgZ(27,"ion-select",15),e.NdJ("ngModelChange",function(o){return t.bankName=o}),e.YNc(28,_,2,2,"ion-select-option",16),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-label",17),e._uU(31,"Phone Number"),e.qZA(),e.TgZ(32,"ion-input",18),e.NdJ("ngModelChange",function(o){return t.phoneNumber=o}),e.qZA()(),e.TgZ(33,"ion-item")(34,"div")(35,"input",19),e.NdJ("ngModelChange",function(o){return t.uploadedfile=o})("change",function(o){return t.selectImage(o)}),e.qZA(),e.YNc(36,S,1,1,"img",20),e.qZA()(),e.TgZ(37,"ion-row")(38,"ion-col")(39,"ion-button",21),e._uU(40,"Sign Up"),e.qZA()()()()()(),e.TgZ(41,"ion-footer",1)(42,"ion-toolbar")(43,"p",2),e._uU(44,"Already have an account? "),e.TgZ(45,"a",22),e._uU(46,"Log In."),e.qZA()()()()),2&n&&(e.xp6(11),e.Q6J("ngModel",t.fullname),e.xp6(4),e.Q6J("ngModel",t.email),e.xp6(4),e.Q6J("ngModel",t.password),e.xp6(4),e.Q6J("ngModel",t.bankAccountNumber),e.xp6(4),e.Q6J("ngModel",t.bankName),e.xp6(1),e.Q6J("ngForOf",t.bankList),e.xp6(4),e.Q6J("ngModel",t.phoneNumber),e.xp6(3),e.Q6J("ngModel",t.uploadedfile),e.xp6(1),e.Q6J("ngIf",t.imageUrl),e.xp6(9),e.Q6J("routerLink",e.DdM(10,T)))},dependencies:[c.sg,c.O5,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.c5,g.On,g.F,r.YG,r.wI,r.W2,r.fr,r.Gu,r.pK,r.Ie,r.Q$,r.Nd,r.t9,r.n0,r.wd,r.sr,r.QI,r.j9,r.Fo,m.rH],styles:[".custom-font[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif}ion-toolbar[_ngcontent-%COMP%]{--background: transparent}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{padding:10px 0;font-weight:900}ion-toolbar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:40px 0 20px;font-weight:600}ion-content[_ngcontent-%COMP%]{--background: ghostwhite}ion-content[_ngcontent-%COMP%]   .back-blob[_ngcontent-%COMP%]{z-index:-1;width:600px;position:absolute;left:-50%;top:0}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:20px;padding:10px}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin:20px;background-color:#f8f8ff}ion-content[_ngcontent-%COMP%]   .wrap-input[_ngcontent-%COMP%]{background-color:#fffc;border-radius:20px;margin-bottom:26px;box-shadow:0 10px 30px #3947521f}ion-content[_ngcontent-%COMP%]   .container-form-btn[_ngcontent-%COMP%]{display:flex;justify-content:center}ion-content[_ngcontent-%COMP%]   .form-btn[_ngcontent-%COMP%]:hover{background-color:#28333b;box-shadow:0 10px 30px #394752cc}"]}),a})()}];let v=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[m.Bz.forChild(N),m.Bz]}),a})(),U=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[c.ez,g.u5,r.Pc,v]}),a})()}}]);