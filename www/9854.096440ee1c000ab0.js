"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9854],{9854:(N,m,c)=>{c.r(m),c.d(m,{LFTPageModule:()=>U});var s=c(6895),l=c(9796),o=c(6548),u=c(5339),g=c(5861),e=c(4583),_=c(5911),p=c(2906);function f(t,i){1&t&&e._UZ(0,"ion-img",20),2&t&&e.Q6J("src","assets/nab.png")}function h(t,i){1&t&&e._UZ(0,"ion-img",20),2&t&&e.Q6J("src","assets/cwb.jpg")}function T(t,i){1&t&&e._UZ(0,"ion-img",20),2&t&&e.Q6J("src","assets/anz.jpg")}function Z(t,i){1&t&&e._UZ(0,"ion-img",20),2&t&&e.Q6J("src","assets/westpac.JPG")}function b(t,i){if(1&t&&(e.ynx(0),e.YNc(1,h,1,1,"ion-img",17),e.YNc(2,T,1,1,"ion-img",17),e.YNc(3,Z,1,1,"ion-img",17),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","Commonwealth Bank"===n.account),e.xp6(1),e.Q6J("ngIf","ANZ"===n.account),e.xp6(1),e.Q6J("ngIf","Westpac"===n.account)}}function A(t,i){if(1&t&&(e.TgZ(0,"ion-row",15)(1,"ion-item",16)(2,"ion-thumbnail",1),e.YNc(3,f,1,1,"ion-img",17),e.YNc(4,b,4,3,"ng-container",18),e.qZA(),e.TgZ(5,"ion-label"),e._uU(6),e.qZA(),e._UZ(7,"ion-radio",19),e.qZA()()),2&t){const n=i.$implicit;e.xp6(3),e.Q6J("ngIf","National Australia Bank"===n.account),e.xp6(1),e.Q6J("ngIf","National Australia Bank"!==n.account),e.xp6(2),e.Oqu(n.id),e.xp6(1),e.Q6J("value",n.title)}}function P(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Payment"),e.qZA(),e.TgZ(4,"ion-buttons",21)(5,"ion-button",22),e.NdJ("click",function(){e.CHM(n),e.oxw();const r=e.MAs(35);return e.KtG(r.dismiss())}),e._uU(6,"Close"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",23)(9,"form",24),e.NdJ("submit",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.pay())}),e.TgZ(10,"ion-list")(11,"ion-card",25)(12,"ion-card-title",26),e._uU(13,"From Account"),e.qZA(),e.TgZ(14,"ion-card-subtitle",27),e._uU(15),e.qZA(),e.TgZ(16,"ion-label"),e._uU(17),e.qZA()(),e.TgZ(18,"ion-card",25)(19,"ion-card-title",26),e._uU(20,"To Account"),e.qZA(),e.TgZ(21,"ion-card-subtitle",27),e._uU(22),e.qZA(),e.TgZ(23,"ion-label"),e._uU(24),e.qZA()(),e.TgZ(25,"ion-card",25)(26,"ion-card-title",26),e._uU(27,"Amount"),e.qZA(),e.TgZ(28,"ion-input",28),e.NdJ("ngModelChange",function(r){e.CHM(n);const d=e.oxw();return e.KtG(d.amount=r)}),e.qZA()(),e.TgZ(29,"ion-button",29),e._uU(30," Proceed to Pay"),e.qZA()()()()()}if(2&t){const n=e.oxw();e.xp6(15),e.Oqu(n.fullname),e.xp6(2),e.hij("",n.account," "),e.xp6(5),e.Oqu(n.beneName),e.xp6(2),e.hij("",n.selectedItem," "),e.xp6(4),e.Q6J("ngModel",n.amount)}}const x=function(){return["/add-bene"]},F=[{path:"",component:(()=>{class t{constructor(n,a){this.userdata=n,this.bene=a,this.beneAcc="0000000000",this.amount=0,this.email="",this.fullname="",this.account="",this.bankName="",this.balance=0,this.profiledp="",this.activeUser="",this.start="",this.end="",this.updateBalance=0,this.currentDateTime="",this.beneBank="",this.beneName="",this.selectedItem="",this.bankList=["ANZ","Commonwealth Bank","National Australia Bank","Westpac"],this.presentingElement=document.querySelector(".card"),this.alertButtons=["OK"],this.itemSelected=""}ngOnInit(){this.fetchData()}makeselection(){console.log("Selected account title:",this.beneName);const n=this.findBeneByAccount(this.beneName);console.log(n.id),this.selectedItem=n.id}findBeneByAccount(n){return this.storedBene.find(a=>a.title===n)}displayAll(){var n=this;return(0,g.Z)(function*(){n.storedBene=yield n.bene.getBeneData("bene"+n.account),console.log(n.storedBene)})()}getCurrentDateTime(){this.currentDateTime=(new Date).toString()}pay(){var n=this;return(0,g.Z)(function*(){if(null!=n.amount&&n.amount>0&&null!=n.account&&null!=n.beneAcc){const a={toAccount:n.selectedItem,toAccName:n.beneName,fromAccount:n.account,amount:n.amount,status:"Paid",datetime:n.getCurrentDateTime()};if(n.userdata.makePayment(a,"trans"+n.account),console.log(n.userdata.viewPayment("trans"+n.account)),null!=n.userdata.viewPayment("trans"+n.account)){n.balance=n.balance-n.amount;const r=yield n.userdata.updateUserBalance(n.balance,n.email);alert(r?"Payment has been transferred successfully.":"Transaction failed.")}}else alert("Please fill the fields to proceed.")})()}fetchData(){var n=this;return(0,g.Z)(function*(){var a;n.activeUser=null===(a=sessionStorage.getItem("email"))||void 0===a?void 0:a.toString(),n.user=yield n.userdata.getUserDataByEmail(n.activeUser),null!=n.user?(console.log(n.user),n.email=n.user.email,n.fullname=n.user.fullname,n.account=n.user.account,n.bankName=n.user.bankName,n.balance=n.user.balance,n.profiledp=n.user.image,n.displayAll()):console.log(JSON.stringify(n.user))})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.K),e.Y36(p.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-lft"]],decls:37,vars:8,consts:[[1,"ion-no-border"],["slot","start"],["default-href","home"],["size","large"],[1,"account-info"],[1,"card"],["required","true",3,"ngModel","ngModelChange","ionChange"],["class","data-row",4,"ngFor","ngForOf"],["id","open-modal","color","tertiary","expand","block"],[2,"color","white","text-decoration","none",3,"routerLink"],["slot","fixed","vertical","bottom","horizontal","end"],["color","light"],["name","add"],["trigger","open-modal",3,"presentingElement"],["modal",""],[1,"data-row"],["expand","block"],[3,"src",4,"ngIf"],[4,"ngIf"],["slot","end","aria-label","custom checked",3,"value"],[3,"src"],["slot","end"],[3,"click"],[1,"modeldiv"],[3,"submit"],[2,"border-radius","5px 5px 5px 5px","background","ghostwhite","margin","20px"],["color","dark"],["color","tertiary"],["type","number","fill","Outlined","name","amount",3,"ngModel","ngModelChange"],["expand","block","color","tertiary","id","paid","type","submit",2,"margin","20px"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA()(),e.TgZ(4,"strong")(5,"ion-title",3),e._uU(6,"Funds Transfer"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-card",4)(9,"ion-card-header")(10,"ion-card-title"),e._uU(11),e.qZA(),e.TgZ(12,"ion-card-subtitle"),e._uU(13,"Your Account"),e.qZA()(),e.TgZ(14,"ion-card-content")(15,"strong"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",5)(20,"ion-card")(21,"ion-card-header")(22,"ion-card-subtitle"),e._uU(23,"Beneficiaries"),e.qZA()(),e.TgZ(24,"ion-card-content")(25,"ion-radio-group",6),e.NdJ("ngModelChange",function(d){return a.beneName=d})("ionChange",function(){return a.makeselection()}),e.TgZ(26,"ion-list"),e.YNc(27,A,8,4,"ion-row",7),e.qZA()()(),e.TgZ(28,"ion-button",8),e._uU(29,"Next "),e.qZA()(),e.TgZ(30,"a",9)(31,"ion-fab",10)(32,"ion-fab-button",11),e._UZ(33,"ion-icon",12),e.qZA()()(),e.TgZ(34,"ion-modal",13,14),e.YNc(36,P,31,5,"ng-template"),e.qZA()()()),2&n&&(e.xp6(11),e.Oqu(a.fullname),e.xp6(5),e.Oqu(a.account),e.xp6(2),e.hij("Balance: $ ",a.balance,""),e.xp6(7),e.Q6J("ngModel",a.beneName),e.xp6(2),e.Q6J("ngForOf",a.storedBene),e.xp6(3),e.Q6J("routerLink",e.DdM(7,x)),e.xp6(4),e.Q6J("presentingElement",a.presentingElement))},dependencies:[s.sg,s.O5,l._Y,l.JJ,l.JL,l.Q7,l.On,l.F,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.W2,o.IJ,o.W4,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.q_,o.B7,o.se,o.Nd,o.Bs,o.wd,o.sr,o.ki,o.as,o.U5,o.QI,o.cs,o.Fo,u.rH],styles:["ion-content[_ngcontent-%COMP%]{--background: white}.account-info[_ngcontent-%COMP%]{background-color:#f8f8ff}.card[_ngcontent-%COMP%]{height:100%;background-color:#5260ff;border-radius:50px 50px 0 0}ion-card[_ngcontent-%COMP%]{border-radius:20px;padding:10px}ion-input[_ngcontent-%COMP%]{color:#000}ion-label[_ngcontent-%COMP%]{color:#000}.modeldiv[_ngcontent-%COMP%]{background:#5260ff}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(F),u.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.ez,l.u5,o.Pc,y]}),t})()}}]);